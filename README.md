# rocketdata-test-app

Реализовано:

1. Необходимо реализовать модель сети по продаже электроники. Сеть должна представлять собой иерархическую структуру из 5 уровней:
- Завод;
- Дистрибьютор;
- Дилерский центр;
- Крупная розничная сеть;
- Индивидуальный предприниматель.

Каждое звено сети ссылается только на одного поставщика оборудования (не обязательно предыдущего по иерархии). Важно отметить, что уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т.е. завод всегда находится на 0 уровне, а если розничная сеть относится напрямую к заводу, минуя остальные звенья - её уровень - 1.

---------------------------------------------------------------------------------------------

2. Каждое звено сети обладает следующими элементами:
- Название;
- Контакты:
  - Электронная почта;
  - Адрес:
    - Страна;
    - Город;  
    - Улица;
    - Номер дома;
- Продукты:
  - Название;
  - Модель;
  - Дата выхода продукта на рынок;
- Сотрудники;
- Поставщик (предыдущий по иерархии объект сети);
- Задолженность перед поставщиком в денежном выражении с точностью до копеек;
- Время создания (заполняется автоматически при создании).

---------------------------------------------------------------------------------------------

3. Сделать вывод в админ-панели созданных объектов;
На странице объекта сети добавить:
- ссылку на «Поставщика»;
Находится в таблицах каждого отдельного звена (Дистрибьютор/Дилер/Ретейлер/ИП)
- фильтр по названию города;
Находится в таблицах каждого отдельного звена (Дистрибьютор/Дилер/Ретейлер/ИП) и таблице "Информация"
- «admin action», очищающий задолженность перед поставщиком у выбранных объектов.
Находится в таблице "Информация"

---------------------------------------------------------------------------------------------

4. Используя DRF, создать набор представлений:
- Информацию обо всех объектах сети; # /network/list/
- Информацию об объектах определённой страны (фильтр по названию); # /network/list/ -> Фильтры
- Статистику об объектах, задолженность которых превышает среднюю задолженность всех объектов; # /network/avg_debt_filter/
- Все объекты сети, где можно встретить определённый продукт (фильтр по id продукта); # /network/list/ -> Фильтры
- Возможность создания и удаления объекта сети и продукта; # /delete_update/sellers_network/ /create/sellers_network/номер create/product delete_update/product/номер
- Возможность обновления данных объекта сети и продукта (запретить обновление через API поля «Задолженность перед поставщиком»);
- 
---------------------------------------------------------------------------------------------

5. Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к API.
Код проверки - SalesNetwork.permissions.py (Расширил модель стандартного пользователя, после чего сделал проверку по полю is_working_now для выдачи доступа)
Надо создать superuser, после в админ-панели изменить новоиспеченного работника, определить его ФИО и снять галочку "Работает сейчас", после чего можно заходить на
API-страницы и видеть ошибку "detail": "У вас недостаточно прав для выполнения данного действия.".
